<div th:fragment="form(update)">
    
    <!-- Fullname -->
    <div class="form-group">
        <label for="fullname" class="col-sm-2 control-label">Full Name</label>
        <div class="col-sm-10">
            <input type="text" th:field="*{fullname}" id="fullname" placeholder="Full Name" class="col-4" maxlength="125" required>
            <small class="form-text text-muted">Max 125 characters. Letters, numbers, spaces or hyphens allowed.</small>
            <p class="text-danger" th:if="${#fields.hasErrors('fullname')}" th:errors="*{fullname}"></p>
        </div>
    </div>

    <!-- Username -->
    <div class="form-group">
        <label for="username" class="col-sm-2 control-label">User Name</label>
        <div class="col-sm-10">
            <input type="text" th:field="*{username}" id="username" placeholder="User Name" class="col-4" maxlength="125" required>
            <small class="form-text text-muted">Max 125 characters. Letters, numbers, spaces or hyphens allowed. Must be unique.</small>
            <p class="text-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></p>
        </div>
    </div>

    <!-- Password -->
    <div class="form-group">
        <label for="password" class="col-sm-2 control-label">Password</label>
        <div class="col-sm-10">
            <input type="password" th:field="*{password}" id="password" placeholder="Password" class="col-4" maxlength="125" th:attr="required=${!update}">
            <small class="form-text text-muted"
                th:text="${update} ? 
                      'If filled, at least 8 characters with one uppercase, one number and one special character.' :
                      'At least 8 characters with one uppercase, one number and one special character.'">
            </small>                                         
            <p class="text-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></p>
        </div>
    </div>

    <!-- Role -->
    <div class="form-group">
        <label for="role" class="col-sm-2 control-label">Role</label>
        <div class="col-sm-10">
            <label class="checkbox-inline"><input type="radio" th:field="*{role}" th:value="ADMIN">Admin</label>
            <label class="checkbox-inline"><input type="radio" th:field="*{role}" th:value="USER">User</label>
            <small class="form-text text-muted">Choose either ADMIN or USER.</small>
            <p class="text-danger" th:if="${#fields.hasErrors('role')}" th:errors="*{role}"></p>
        </div>
    </div>

    <!-- Id (hidden if update) -->
    <div th:if="${update}">
        <input type="hidden" th:field="*{id}">
    </div>

    <!-- Submit -->
    <div th:replace="~{fragments/common/formbuttons :: formButtons('/user/list', ${update}, 'User')}"></div>
    
</div>
